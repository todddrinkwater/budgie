{% load static %}

<link href="https://fonts.googleapis.com/css?family=Roboto:300,400" rel="stylesheet">
<link rel="stylesheet" type="text/css" href="{% static 'main/style.css' %}">

<h1>My Purchases</h1>
<a href="{% url 'main:new' %}">Add New Purchase</a>

<table>
  <tr>
    <th>Time</th>
    <th>Place</th>
    <th>Type</th>
    <th>Amount</th>
  </tr>
  {% for purchase in purchases %}
    <tr class="table-data-row">
      <td>{{ purchase.time }}</td>
      <td>{{ purchase.place }}</td>
      <td>{{ purchase.type }}</td>
      <td>{{ purchase.amount }}</td>
    </tr>
  {% endfor %}
    <tr class="table-data-row">
      <td></td>
      <td></td>
      <td><strong>Total</strong></td>
      <td>{{ total_spending}}</td>
    </tr>
</table>

<script src="//cdnjs.cloudflare.com/ajax/libs/Chart.js/0.2.0/Chart.min.js" type="text/javascript"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js" type="text/javascript"></script>
<!-- <script type="text/javascript">
$( document ).ready(function() {
    var data = {
        labels: ['1', '5', '10', '15', '20', '25', '30'],
        datasets: [
            {
                label: "Site Registrations in the Last 30 Days",
                fillColor: "rgba(220,220,220,0.2)",
                strokeColor: "rgba(220,220,220,1)",
                pointColor: "rgba(220,220,220,1)",
                pointStrokeColor: "#fff",
                pointHighlightFill: "#fff",
                pointHighlightStroke: "rgba(220,220,220,1)",
                data: {{ 30_day_registrations }}
            }
        ]
    };
    var ctx = document.getElementById("myChart").getContext("2d");
    var myLineChart = new Chart(ctx).Line(data);
});
</script> -->

<script type="text/javascript" src="{% static 'main/index.js' %}"></script>
